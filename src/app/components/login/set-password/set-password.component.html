<div class="set-password-container">
  <!-- Left Section -->
  <div class="left-section">
    <div class="content-wrapper">
      
      <!-- Header -->
      <div class="header">
        <div class="logo-container">
          <img src="assets/images/accuris-logo.png" class="logo-image" alt="Accuris Logo" 
               onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
          <div class="logo-fallback">
            <div class="logo-icon">A</div>
            <span class="logo-text">ACCURIS</span>
          </div>
        </div>

        <div class="header-right">
          <span>Already a Member?</span>
          <button class="log-in-btn" type="button" (click)="navigateToLogin()">Log In</button>
        </div>
      </div>

      <!-- Main Content -->
      <div class="main-content">
        <h1 class="page-title">Set a password</h1>
        <p class="page-subtitle">Please enter a new password for your account</p>

        <form [formGroup]="setPasswordForm" (ngSubmit)="onSubmit()">
          
          <!-- Create Password Field -->
          <div class="form-group password-group">
            <input 
              [type]="showPassword ? 'text' : 'password'"
              formControlName="password"
              placeholder="Create Password"
              class="form-control"
              (input)="checkPasswordStrength()"
              aria-label="Create Password"
              required
            />
            <button
              type="button"
              class="toggle-password"
              aria-label="Toggle Password Visibility"
              (click)="togglePasswordVisibility()"
            >
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M10 4C4.5 4 1 10 1 10s3.5 6 9 6 9-6 9-6-3.5-6-9-6z" 
                      stroke="#16a085" stroke-width="1.5" />
                <circle cx="10" cy="10" r="3" 
                        stroke="#16a085" stroke-width="1.5" />
              </svg>
            </button>
          </div>

          <!-- Password Strength Indicator -->
          <div class="password-strength-container">
            <div class="password-strength-bars">
              <div class="strength-bar" [class.active]="passwordStrength >= 1" [class.weak]="passwordStrength === 1"></div>
              <div class="strength-bar" [class.active]="passwordStrength >= 2" [class.medium]="passwordStrength === 2"></div>
              <div class="strength-bar" [class.active]="passwordStrength >= 3" [class.strong]="passwordStrength === 3"></div>
            </div>
            <div class="password-strength-label">Password Strength</div>
          </div>

          <!-- Re-Enter Password Field -->
          <div class="form-group password-group">
            <input 
              [type]="showConfirmPassword ? 'text' : 'password'"
              formControlName="confirmPassword"
              placeholder="Re-Enter Password"
              class="form-control"
              [class.error]="!passwordsMatch && setPasswordForm.get('confirmPassword')?.value"
              (input)="checkPasswordsMatch()"
              aria-label="Re-Enter Password"
              required
            />
            <button
              type="button"
              class="toggle-password"
              aria-label="Toggle Confirm Password Visibility"
              (click)="toggleConfirmPasswordVisibility()"
            >
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M10 4C4.5 4 1 10 1 10s3.5 6 9 6 9-6 9-6-3.5-6-9-6z" 
                      stroke="#16a085" stroke-width="1.5" />
                <circle cx="10" cy="10" r="3" 
                        stroke="#16a085" stroke-width="1.5" />
              </svg>
            </button>
          </div>

          <!-- Error message if passwords don't match -->
          <div class="error-message" *ngIf="!passwordsMatch && setPasswordForm.get('confirmPassword')?.value">
            Passwords do not match
          </div>

          <!-- Set Password Button -->
          <button 
            type="submit" 
            class="set-password-button"
            [class.active]="isFormValid()"
            [disabled]="!isFormValid()"
          >
            SET PASSWORD
          </button>
        </form>
      </div>

      <!-- Footer -->
      <div class="footer">
        <a 
          href="javascript:void(0)" 
          class="return-link"
          (click)="returnHome()"
        >
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
            <path d="M10 12L6 8l4-4" 
                  stroke="#666" 
                  stroke-width="2" 
                  stroke-linecap="round" 
                  stroke-linejoin="round"/>
          </svg>
          Return Home
        </a>

        <p class="copyright">
          Copyright 2025 - 2026 Accuris Inc. All rights Reserved
        </p>

        <!-- Chat Icon -->
        <button class="chat-icon-btn" type="button" aria-label="Chat Support">
          <img src="assets/images/icons/chat-icon.svg" alt="Chat Icon" width="28" height="28"
               onerror="this.style.display='none';">
        </button>
      </div>
    </div>
  </div>

  <!-- Right Section -->
  <div class="right-section">
    <img src="assets/images/signup-image.jpg" alt="Background" class="background-image"
         onerror="this.style.display='none';" />
  </div>
</div>